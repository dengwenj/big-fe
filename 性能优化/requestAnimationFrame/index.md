### requestAnimationFrame
- requestAnimationFrame 回调执行与浏览器重绘的关系，核心结论是：回调执行由浏览器的帧机制驱动，而非重绘本身。
- 浏览器的帧循环：浏览器以固定频率（如 60Hz，约 16ms / 帧）运行一个 “帧循环”，处理动画、事件、渲染等任务。
- 回调的注册机制：requestAnimationFrame 将回调加入 “动画帧队列”，浏览器在每一帧开始时执行队列中的回调（无论是否需要重绘）。
- 重绘的触发条件：重绘是 结果（由 DOM 变化触发），而非回调执行的 条件。回调执行是为了 准备重绘（如计算动画新状态），但本身不强制重绘。
- 也就是说 requestAnimationFrame 中的回调函数是由 **浏览器的帧决定执行的**，我们可以在回调函数中**做一些关于重绘的事情导致浏览器去重绘**，这才是 requestAnimationFrame 的作用

- 与重绘解耦：回调在 “帧开始阶段” 执行，重绘在 “帧结束阶段” 执行（仅当有 DOM 变化时）。
- 重绘的触发条件：DOM 变化的结果
> 帧循环流程：[执行动画帧回调（JS 逻辑）] → [计算样式 → 布局 → 绘制（重绘）] → [屏幕刷新]

- requestAnimationFrame 回调的执行与浏览器重绘是 解耦的两个过程：
  - 回调执行：由浏览器帧循环驱动（固定频率），用于准备动画逻辑（如计算新位置）。
  - 重绘：由 DOM 变化触发（按需执行），是回调中 DOM 操作的结果。
- 核心原则：
  - 回调执行 ≠ 重绘发生（可能只有计算，没有 DOM 变化）。
  - 重绘发生 ⇒ 回调必然执行（在重绘前执行，准备数据）。