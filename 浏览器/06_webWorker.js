/**
 * web workerï¼Œç”¨æˆ·å¯ä»¥å¾ˆå®¹æ˜“çš„åˆ›å»ºåœ¨åå°è¿è¡Œçš„çº¿ç¨‹ï¼Œè¿™ä¸ªçº¿ç¨‹è¢«ç§°ä¹‹ä¸º Workerã€‚å¦‚æœå°†å¯èƒ½æ¶ˆè€—è¾ƒé•¿æ—¶é—´çš„å¤„ç†äº¤ç»™åå°æ¥æ‰§è¡Œï¼Œ
 * åˆ™å¯¹ç”¨æˆ·åœ¨å‰å°é¡µé¢ä¸­æ‰§è¡Œçš„æ“ä½œæ²¡æœ‰å½±å“
 * 
 * web worker çš„ç‰¹ç‚¹ï¼š
 * 1ã€é€šè¿‡åŠ è½½ä¸€ä¸ª js æ–‡ä»¶æ¥è¿›è¡Œå¤§é‡å¤æ‚çš„è®¡ç®—ï¼Œè€Œä¸æŒ‚èµ·ä¸»çº¿ç¨‹ã€‚é€šè¿‡ postMessage å’Œ onMessage è¿›è¡Œé€šä¿¡
 * 2ã€ä¸èƒ½è·¨åŸŸåŠ è½½ js
 * 3ã€worker å†…ä»£ç ä¸èƒ½è®¿é—® DOM
 * 4ã€ä½¿ç”¨ web Worker åŠ è½½æ•°æ®æ²¡æœ‰ jsonp å’Œ ajax åŠ è½½æ•°æ®é«˜æ•ˆ
 * 
 * worker çš„å±æ€§å’Œæ–¹æ³•ï¼š
 * 1ã€selfï¼šself å…³é”®å€¼ç”¨æ¥è¡¨ç¤ºæœ¬çº¿ç¨‹èŒƒå›´å†…çš„ä½œç”¨åŸŸ
 * 2ã€postMessage()ï¼šå‘åˆ›å»ºçº¿ç¨‹çš„æºçª—å£å‘é€ä¿¡æ¯
 * 3ã€onMessageï¼šè·å–æ¥æ”¶æ¶ˆæ¯çš„äº‹ä»¶å¥æŸ„
 * 4ã€importScripts(urls)ï¼šworker å†…éƒ¨å¦‚æœè¦åŠ è½½å…¶ä»–è„šæœ¬ï¼Œå¯ä»¥ä½¿ç”¨è¯¥æ–¹æ³•æ¥å¯¼å…¥å…¶ä»– js è„šæœ¬æ–‡ä»¶
 */
let count = 0
setInterval(() => {
  count++
  // self.postMessage(count)
  postMessage(count)
}, 1000)

self.onmessage = function (e) {
  console.log("ä¸»çº¿ç¨‹ä¼ é€’è¿‡æ¥çš„å€¼ğŸ‘‡ğŸ»")
  console.log(e.data)
}